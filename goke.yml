global:
  environment:
    LOKI: "Loki"
    LOKI_CMD: '$(echo "$LOKI")'

build: 
  files: [cmd/cli/*.go, internal/*]
  run:
    - "go build -o ./build/goke ./cmd/cli"

genmocks:
  files: [internal/stdlib_wrapper.go]
  run:
    - "mockery --name=StdlibWrapper --recursive --output=internal/mocks"

greet-loki:
  run:
    - "echo 'Hello ${LOKI_CMD}'"

greet-cats:
  files: [cmd/cli/*]
  run:
    - 'echo "Hello Frey"'
    - 'echo "Hello Sunny"'
    - "greet-loki"
